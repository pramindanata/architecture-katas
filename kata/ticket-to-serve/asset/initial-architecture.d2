vars: {
  d2-config: {
    layout-engine: elk
  }
}

admin: {
  label: Admin
  shape: c4-person
  style.fill: "#fab1a0"
}

reseller: {
  label: Reseller
  shape: c4-person
  style.fill: "#fab1a0"
}

user: {
  label: User
  shape: c4-person
  style.fill: "#fab1a0"
}

resellerDashboard: Reseller Dashboard
resellerCustomWeb: Reseller Custom Web
adminDashboard: Admin Dashboard
resellerSystem: {
  label: Reseller System
  style.fill: "#fab1a0"
} 

gateway: { 
  label: API Gateway
  shape: hexagon
}

reseller -> resellerDashboard
user -> resellerCustomWeb
admin -> adminDashboard

coreOrderTicketService: Core Order Ticket Service
coreExploreTicketService: Core Explore Ticket Service
ticketManagementService: Ticket Management Service
adminService: Admin Service
notificationService: Notification Service
customWebService: Custom Web Service
customWebOrderService: Custom Web Order Service

database: {
  label: Database
  shape: cylinder
}

resellerDashboard -> gateway: Manage tickets
resellerCustomWeb -> gateway: Browse & order tickets
adminDashboard -> gateway: Manage platform
resellerSystem -> gateway: Integrate with ticketing platform
gateway -> coreOrderTicketService
gateway -> coreExploreTicketService
gateway -> ticketManagementService
gateway -> adminService
gateway -> customWebService
gateway -> customWebOrderService
coreExploreTicketService -> database
customWebService -> database
customWebOrderService -> database 
adminService -> database
coreOrderTicketService -> database
ticketManagementService -> database
adminService -> notificationService
coreOrderTicketService -> notificationService
ticketManagementService -> notificationService 
notificationService -> resellerSystem
